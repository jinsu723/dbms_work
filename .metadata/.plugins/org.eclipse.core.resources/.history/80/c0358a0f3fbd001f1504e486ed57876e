CREATE TABLE TBL_STUDENT1(
	STUDENT_NUMBER	NUMBER
  , STUDENT_NAME	VARCHAR2(1000)		CONSTRAINT STUDENT_NAME_NN NOT NULL
  , STUDENT_AGE		NUMBER			CONSTRAINT STUDENT_AGE_NN NOT NULL
  , STUDENT_PHONE	VARCHAR2(1000)	CONSTRAINT STUDENT_PHONE_NN NOT NULL
  , STUDNET_ADDRESS	VARCHAR2(1000)	CONSTRAINT STUDENT_ADDRESS_NN NOT NULL
  , CONSTRAINT STUDENT_NUMBER_PK PRIMARY KEY(STUDENT_NUMBER)
  , CONSTRAINT STUDENT_PHONE_UK  UNIQUE(STUDENT_PHONE)
);

SELECT 	*
FROM	tbl_student1;

INSERT INTO tbl_student1
--VALUES(1, '길진수', 27, '010-1111-1111', '경기도');
--values(2, '길길길', 90, '010-2222-2222', '서울');
--VALUES(3, '진진진', 10, '010-3333-3333', '화성');
--VALUES(4, '수수수', 25, '010-4444-4444', '미국');
VALUES(5, '세뮤얼', 1, '010-5555-5555', '베트남');

CREATE TABLE TBL_MAJOR(
	MAJOR_MNUMBER	VARCHAR2(1000)
  , MAJOR_NAME		VARCHAR2(1000)	CONSTRAINT MAJOR_NAME_NN NOT NULL
  , MAJOR_THECHER	VARCHAR2(1000)		CONSTRAINT MAJOR_TEACHER_NN NOT NULL
  , MAJOR_START		DATE			CONSTRAINT MAJOR_START_NN NOT NULL
  , MAJOR_TIME		VARCHAR2(1000)	CONSTRAINT MAJOR_TIME_NN NOT NULL CHECK(MAJOR_TIME = '오전 9시'
  																		 OR MAJOR_TIME = '오후 19시')
  , CONSTRAINT MAJOR_MNUMBER_PK PRIMARY KEY(MAJOR_MNUMBER)
);

SELECT 	*
FROM	tbl_major;

INSERT INTO tbl_major
--VALUES(1, 'java', '참새', '2024-11-21', '오전 9시');
--VALUES(2, 'dbms', '정규쌤', '2024-11-21', '오전 9시');
--VALUES(3, 'web', '신짱구', '2023-11-21', '오후 19시');
--VALUES(4, 'java', '신짱구', '2023-11-30', '오후 19시');
VALUES(5, 'web', '참새', '2030-4-30', '오전 9시');

CREATE TABLE TBL_SCORE(
	SCORE_SNUMBER	VARCHAR2(1000)
  , STUDENT_NUMBER	NUMBER
  , MAJOR_MNUMBER	VARCHAR2(1000)
  , SCORE_GRADE		CHAR(1)	CONSTRAINT SCORE_GRADE_NN NOT NULL
  							CONSTRAINT SCORE_GRADE_CK CHECK(SCORE_GRADE = 'A'
  														 OR SCORE_GRADE = 'B'
  														 OR SCORE_GRADE = 'C'
  														 OR SCORE_GRADE = 'F')
  , CONSTRAINT STUDENT_NUMBER_FK FOREIGN KEY(STUDENT_NUMBER) REFERENCES TBL_STUDENT1
  , CONSTRAINT MAJOR_NUMBER_FK FOREIGN KEY(MAJOR_MNUMBER) REFERENCES TBL_MAJOR
  , CONSTRAINT SCORE_PK PRIMARY KEY(SCORE_SNUMBER, STUDENT_NUMBER, MAJOR_MNUMBER)
);

SELECT	*
FROM 	tbl_score;

INSERT INTO tbl_score
--VALUES(1, 1, 1, 'A');
--VALUES(2, 2, 4, 'B');
--VALUES(3, 3, 3, 'F');
--VALUES(4, 4, 2, 'C');
VALUES(5, 5, 2, 'B');

DROP table tbl_student1;
DROP TABLE tbl_major;
DROP TABLE tbl_score;




--------------------------------------------------------------------------------------------------------
--	TBL_PERSON
--	======================================
--	PERSON_NUMBER(PK)	NUMBER
--	PERSON_NAME(NN)		VARCHAR2(1000)
--	PERSON_ADDRESS(NN)	VARCHAR2(1000)
--	PERSON_PHONE(UK/NN)	VARCHAR2(1000)
--	PERSON_EMAIL		VARCHAR2(1000)
CREATE TABLE TBL_PERSON(
	PERSON_NUMBER	NUMBER
  , PERSON_NAME		VARCHAR2(1000) CONSTRAINT PERSON_NAME_NN NOT NULL
  , PERSON_ADDRESS	VARCHAR2(1000) CONSTRAINT PERSON_ADDRESS_NN NOT NULL
  , PERSON_PHONE	VARCHAR2(1000) CONSTRAINT PERSON_PHONE_NN NOT NULL
  , PERSON_EMAIL	VARCHAR2(1000)
  , CONSTRAINT PERSON_NUMBER_PK PRIMARY KEY(PERSON_NUMBER)
  , CONSTRAINT PERSON_PHONE_UL UNIQUE(PERSON_PHONE)
);

--	TBL_PET
--	======================================
--	PET_NUMBER(PK)		NUMBER
--	PET_NAME(NN)		VARCHAR2(1000)
--	PET_GENDER(CK/NN)	CHAR(1)
--	TYPE_KIND(FK/NN)	NUMBER
--	PERSON_NUMBER(FK/NN)	VARCHAR2(1000)
CREATE TABLE TBL_PET(
	PET_NUMBER	NUMBER
  , PER_NAME	VARCHAR2(1000) CONSTRAINT PET_NAME_NN NOT NULL
  , PET_GENDER	CHAR(1)	CONSTRAINT PET_GENDER NOT NULL
  											  CHECK(PET_GENDER = 'M'
  											  	 OR PET_GENDER = 'W')
  , TYPE_KIND	NUMBER	CONSTRAINT TYPE_KIND_NN NOT NULL
  , PERSON_NUMBER NUMBER CONSTRAINT PERSON_NUMBER NOT NULL
  , CONSTRAINT PET_NUMBER_PK PRIMARY KEY(PET_NUMBER)
  , CONSTRAINT TYPE_KIND_FK FOREIGN KEY(TYPE_KIND) REFERENCES TBL_TYPE(TYPE_KIND)
  , CONSTRAINT PERSON_NUMBER_FK FOREIGN KEY(PERSON_NUMBER) REFERENCES TBL_PERSON(PERSON_NUMBER)
);

	TBL_TYPE
--	======================================
--	TYPE_TYPE(NN)		VARCHAR2(1000)
--	TYPE_KIND(PK)		NUMBER
CREATE TABLE TBL_TYPE(
	TYPE_TYPE	VARCHAR2(1000)	CONSTRAINT TYPE_TYPE NOT NULL
  , TYPE_KIND	NUMBER
  , CONSTRAINT PET_KIND_PK PRIMARY KEY(PET_KIND)
);

DROP TABLE TBL_PERSON;
DROP TABLE TBL_PET;